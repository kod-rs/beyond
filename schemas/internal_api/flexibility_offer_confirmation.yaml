---
$schema: 'http://json-schema.org/draft-07/schema#'
id: 'flexopt://internal_api/flexibility_offer_confirmation.yaml#'
title: Flexibility offer confirmation request
description: Flexibility offer confirmation configuration schema
type: object
required:
  - type
  - user_id
  - algorithm_response
properties:
  type:
    const: flexibility_offer_confirmation_request
  date:
    type: string
  algorithm_response:
    type: object
    required:
      - type
      - status
      - offered_flexibility
      - building_info
    properties:
      type:
        const: algorithm_response
      status:
        const: true
      offered_flexibility:
        type: number
      building_info:
        type: array
        items:
          $ref: '#/definitions/building_info'
definitions:
  building_info:
    type: object
    required:
      - building_id
      - interval
      - flexibility
    properties:
      building_id:
        type: string
      interval:
        type: object
        required:
          - from
          - to
        properties:
          from:
            type: number
            minimum: 6
            maximum: 22
          to:
            type: number
            minimum: 6
            maximum: 22
      flexibility:
        type: number
...
