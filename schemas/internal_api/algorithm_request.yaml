---
$schema: 'http://json-schema.org/draft-07/schema#'
id: 'flexopt://internal_api/algorithm_request.yaml#'
title: Algorithm request
description: Algorithm configuration schema
type: object
required:
  - type
  - building_energy_list
  - flexibility_demands
properties:
  type:
    const: algorithm_request
  building_energy_list:
    type: array
    items:
      $ref: '#/definitions/building_energy'
  flexibility_demands:
    type: array
    items:
      $ref: '#/definitions/flexibility_demand'
definitions:
  building_energy:
    type: object
    required:
      - building_id
      - energy_info
    properties:
      building_id:
        type: string
      energy_info:
        type: array
        items:
          $ref: '#/definitions/timeseries'
  timeseries:
    type: object
    required:
      - value
      - timestamp
    properties:
      value:
        type: number
      timestamp:
        type: string
        format: "date-time"
  flexibility_demand:
    type: object
    required:
      - interval
      - flexibility_amount
    properties:
      interval:
        type: object
        required:
          - from
          - to
        properties:
          from:
            type: string
            format: "date-time"
          to:
            type: string
            format: "date-time"
      flexibility_amount:
        type: number
...
